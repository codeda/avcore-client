!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("rxjs/operators"),require("rxjs"),require("socket.io-client")):"function"==typeof define&&define.amd?define(["rxjs/operators","rxjs","socket.io-client"],e):"object"==typeof exports?exports.avcore=e(require("rxjs/operators"),require("rxjs"),require("socket.io-client")):t.avcore=e(t.rxjs.operators,t.rxjs,t.io)}(this,(function(t,e,r){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=55)}([function(t,e,r){"use strict";var n,o,i,s,u,c;r.d(e,"a",(function(){return n})),r.d(e,"d",(function(){return o})),r.d(e,"e",(function(){return i})),r.d(e,"c",(function(){return s})),r.d(e,"b",(function(){return u})),function(t){t.GET_SERVER_CONFIGS="getServerConfigs",t.CREATE_TRANSPORT="createTransport",t.CONNECT_TRANSPORT="connectTransport",t.CLOSE_TRANSPORT="closeTransport",t.PRODUCE="produce",t.CONSUME="consume",t.RESUME_CONSUMER="resumeConsumer",t.PAUSE_CONSUMER="pauseConsumer",t.CLOSE_CONSUMER="closeConsumer",t.RESUME_PRODUCER="resumeProducer",t.PAUSE_PRODUCER="pauseProducer",t.CLOSE_PRODUCER="closeProducer",t.FILE_STREAMING="fileStreaming",t.LIVE_STREAMING="liveStreaming",t.STOP_FILE_STREAMING="stopFileStreaming",t.START_RECORDING="startRecording",t.STOP_RECORDING="stopRecording",t.CREATE_PIPE_TRANSPORT="createPipeTransport",t.CONNECT_PIPE_TRANSPORT="connectPipeTransport",t.SET_PREFERRED_LAYERS="setPreferredLayers",t.SET_MAX_INCOMING_BITRATE="setMaxIncomingBitrate",t.PRODUCERS_STATS="producersStats",t.CONSUMERS_STATS="consumersStats",t.TRANSPORT_STATS="transportStats",t.PIPE_TO_REMOTE_PRODUCER="pipeToRemoteProducer",t.PIPE_FROM_REMOTE_PRODUCER="pipeFromRemoteProducer",t.WORKER_LOAD="workerLoad",t.NUM_WORKERS="numWorkers",t.RECORDED_STREAMS="recordedStreams",t.STREAM_RECORDINGS="streamRecordings",t.DELETE_STREAM_RECORDINGS="deleteStreamRecordings",t.DELETE_RECORDING="deleteRecording",t.PUSH_TO_SERVER_INPUTS="pushToServerInputs",t.PULL_FROM_SERVER_INPUTS="pullFromServerInputs",t.PUSH_TO_SERVER_OPTIONS="pushToServerOptions",t.PUSH_TO_SERVER="pushToServer",t.KINDS_BY_FILE="kindsByFile",t.REQUEST_KEYFRAME="requestKeyframe",t.LISTEN_STREAM_STARTED="listenStreamStarted",t.LISTEN_STREAM_STOPPED="listenStreamStopped",t.MIXER_START="mixerStart",t.MIXER_CLOSE="mixerClose",t.MIXER_ADD="mixerAdd",t.MIXER_REMOVE="mixerRemove",t.MIXER_UPDATE="mixerUpdate",t.MIXER_PIPE_START="mixerPipeStart",t.MIXER_PIPE_STOP="mixerPipeStop"}(n||(n={})),function(t){t.STREAM_STARTED="streamStarted",t.STREAM_STOPPED="streamStopped"}(o||(o={})),function(t){t.STATS="stats",t.TRAFFIC="traffic",t.CPU="cpu"}(i||(i={})),function(t){t[t.UNKNOWN=500]="UNKNOWN",t[t.UNAUTHORIZED=401]="UNAUTHORIZED",t[t.INVALID_TRANSPORT=530]="INVALID_TRANSPORT",t[t.INVALID_PRODUCER=531]="INVALID_PRODUCER",t[t.INVALID_CONSUMER=532]="INVALID_CONSUMER",t[t.INVALID_STREAM=533]="INVALID_STREAM",t[t.INVALID_OPERATION=534]="INVALID_OPERATION",t[t.INVALID_WORKER=535]="INVALID_WORKER",t[t.INVALID_INPUT=536]="INVALID_INPUT"}(s||(s={})),function(t){t[t.SUBSCRIBE=0]="SUBSCRIBE",t[t.PUBLISH=1]="PUBLISH",t[t.RECORDING=2]="RECORDING",t[t.STREAMING=3]="STREAMING"}(u||(u={})),function(t){t[t.LIVE=0]="LIVE",t[t.RECORDING=1]="RECORDING",t[t.RTMP=2]="RTMP"}(c||(c={}))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(21),o=r(58),i=r(7),s=r(35),u=r(16),c=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(t,e,r){var n=this.operator,i=o.toSubscriber(t,e,r);if(n?i.add(n.call(i,this.source)):i.add(this.source||u.config.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),u.config.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){u.config.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),n.canReportError(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var r=this;return new(e=a(e))((function(e,n){var o;o=r.subscribe((function(e){try{t(e)}catch(t){n(t),o&&o.unsubscribe()}}),n,e)}))},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[i.observable]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:s.pipeFromArray(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=a(t))((function(t,r){var n;e.subscribe((function(t){return n=t}),(function(t){return r(t)}),(function(){return t(n)}))}))},t.create=function(e){return new t(e)},t}();function a(t){if(t||(t=u.config.Promise||Promise),!t)throw new Error("no Promise impl found");return t}e.Observable=c},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(4),o=r(23),i=r(15),s=r(34),u=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var e;if(!this.closed){var r=this._parentOrParents,u=this._unsubscribe,a=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,r instanceof t)r.remove(this);else if(null!==r)for(var l=0;l<r.length;++l){r[l].remove(this)}if(i.isFunction(u))try{u.call(this)}catch(t){e=t instanceof s.UnsubscriptionError?c(t.errors):[t]}if(n.isArray(a)){l=-1;for(var f=a.length;++l<f;){var p=a[l];if(o.isObject(p))try{p.unsubscribe()}catch(t){e=e||[],t instanceof s.UnsubscriptionError?e=e.concat(c(t.errors)):e.push(t)}}}if(e)throw new s.UnsubscriptionError(e)}},t.prototype.add=function(e){var r=e;if(!e)return t.EMPTY;switch(typeof e){case"function":r=new t(e);case"object":if(r===this||r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof t)){var n=r;(r=new t)._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var o=r._parentOrParents;if(null===o)r._parentOrParents=this;else if(o instanceof t){if(o===this)return r;r._parentOrParents=[o,this]}else{if(-1!==o.indexOf(this))return r;o.push(this)}var i=this._subscriptions;return null===i?this._subscriptions=[r]:i.push(r),r},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var r=e.indexOf(t);-1!==r&&e.splice(r,1)}},t.EMPTY=((e=new t).closed=!0,e),t}();function c(t){return t.reduce((function(t,e){return t.concat(e instanceof s.UnsubscriptionError?e.errors:e)}),[])}e.Subscription=u},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=r(15),s=r(33),u=r(2),c=r(24),a=r(16),l=r(22),f=function(t){function e(r,n,o){var i=t.call(this)||this;switch(i.syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,arguments.length){case 0:i.destination=s.empty;break;case 1:if(!r){i.destination=s.empty;break}if("object"==typeof r){r instanceof e?(i.syncErrorThrowable=r.syncErrorThrowable,i.destination=r,r.add(i)):(i.syncErrorThrowable=!0,i.destination=new p(i,r));break}default:i.syncErrorThrowable=!0,i.destination=new p(i,r,n,o)}return i}return o(e,t),e.prototype[c.rxSubscriber]=function(){return this},e.create=function(t,r,n){var o=new e(t,r,n);return o.syncErrorThrowable=!1,o},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(u.Subscription);e.Subscriber=f;var p=function(t){function e(e,r,n,o){var u,c=t.call(this)||this;c._parentSubscriber=e;var a=c;return i.isFunction(r)?u=r:r&&(u=r.next,n=r.error,o=r.complete,r!==s.empty&&(a=Object.create(r),i.isFunction(a.unsubscribe)&&c.add(a.unsubscribe.bind(a)),a.unsubscribe=c.unsubscribe.bind(c))),c._context=a,c._next=u,c._error=n,c._complete=o,c}return o(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;a.config.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,r=a.config.useDeprecatedSynchronousErrorHandling;if(this._error)r&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)r?(e.syncErrorValue=t,e.syncErrorThrown=!0):l.hostReportError(t),this.unsubscribe();else{if(this.unsubscribe(),r)throw t;l.hostReportError(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var r=function(){return t._complete.call(t._context)};a.config.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),a.config.useDeprecatedSynchronousErrorHandling)throw t;l.hostReportError(t)}},e.prototype.__tryOrSetError=function(t,e,r){if(!a.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,r)}catch(e){return a.config.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(l.hostReportError(e),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(f);e.SafeSubscriber=p},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isArray=Array.isArray||function(t){return t&&"number"==typeof t.length}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1);e.EMPTY=new n.Observable((function(t){return t.complete()})),e.empty=function(t){return t?function(t){return new n.Observable((function(e){return t.schedule((function(){return e.complete()}))}))}(t):e.EMPTY}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isScheduler=function(t){return t&&"function"==typeof t.schedule}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.observable="function"==typeof Symbol&&Symbol.observable||"@@observable"},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=r(1),s=r(3),u=r(2),c=r(18),a=r(36),l=r(24),f=function(t){function e(e){var r=t.call(this,e)||this;return r.destination=e,r}return o(e,t),e}(s.Subscriber);e.SubjectSubscriber=f;var p=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return o(e,t),e.prototype[l.rxSubscriber]=function(){return new f(this)},e.prototype.lift=function(t){var e=new h(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new c.ObjectUnsubscribedError;if(!this.isStopped)for(var e=this.observers,r=e.length,n=e.slice(),o=0;o<r;o++)n[o].next(t)},e.prototype.error=function(t){if(this.closed)throw new c.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,r=e.length,n=e.slice(),o=0;o<r;o++)n[o].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new c.ObjectUnsubscribedError;this.isStopped=!0;for(var t=this.observers,e=t.length,r=t.slice(),n=0;n<e;n++)r[n].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new c.ObjectUnsubscribedError;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new c.ObjectUnsubscribedError;return this.hasError?(t.error(this.thrownError),u.Subscription.EMPTY):this.isStopped?(t.complete(),u.Subscription.EMPTY):(this.observers.push(t),new a.SubjectSubscription(this,t))},e.prototype.asObservable=function(){var t=new i.Observable;return t.source=this,t},e.create=function(t,e){return new h(t,e)},e}(i.Observable);e.Subject=p;var h=function(t){function e(e,r){var n=t.call(this)||this;return n.destination=e,n.source=r,n}return o(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):u.Subscription.EMPTY},e}(p);e.AnonymousSubject=h},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=r(3);e.map=function(t,e){return function(r){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new s(t,e))}};var s=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.project,this.thisArg))},t}();e.MapOperator=s;var u=function(t){function e(e,r,n){var o=t.call(this,e)||this;return o.project=r,o.count=0,o.thisArg=n||o,o}return o(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(i.Subscriber)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1),o=r(29),i=r(47);e.from=function(t,e){return e?i.scheduled(t,e):t instanceof n.Observable?t:new n.Observable(o.subscribeTo(t))}},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e,r){var n=t.call(this,e,r)||this;return n.scheduler=e,n.work=r,n.pending=!1,n}return o(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var r=this.id,n=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(n,r,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(n,this.id,e),this},e.prototype.requestAsyncId=function(t,e,r){return void 0===r&&(r=0),setInterval(t.flush.bind(t,this),r)},e.prototype.recycleAsyncId=function(t,e,r){if(void 0===r&&(r=0),null!==r&&this.delay===r&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(t,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var r=!1,n=void 0;try{this.work(t)}catch(t){r=!0,n=!!t&&t||new Error(t)}if(r)return this.unsubscribe(),n},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,r=e.actions,n=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&r.splice(n,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(r(65).Action);e.AsyncAction=i},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=r(38),s=function(t){function e(r,n){void 0===n&&(n=i.Scheduler.now);var o=t.call(this,r,(function(){return e.delegate&&e.delegate!==o?e.delegate.now():n()}))||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return o(e,t),e.prototype.schedule=function(r,n,o){return void 0===n&&(n=0),e.delegate&&e.delegate!==this?e.delegate.schedule(r,n,o):t.prototype.schedule.call(this,r,n,o)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var r;this.active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}}},e}(i.Scheduler);e.AsyncScheduler=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1),o=r(40),i=r(26);e.fromArray=function(t,e){return e?i.scheduleArray(t,e):new n.Observable(o.subscribeToArray(t))}},function(t,e,r){"use strict";function n(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}Object.defineProperty(e,"__esModule",{value:!0}),e.getSymbolIterator=n,e.iterator=n(),e.$$iterator=e.iterator},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isFunction=function(t){return"function"==typeof t}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=!1;e.config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else n&&console.log("RxJS: Back to a better error behavior. Thank you. <3");n=t},get useDeprecatedSynchronousErrorHandling(){return n}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.identity=function(t){return t}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}();e.ObjectUnsubscribedError=n},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.notifyNext=function(t,e,r,n,o){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(r(3).Subscriber);e.OuterSubscriber=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(43),o=r(29),i=r(1);e.subscribeToResult=function(t,e,r,s,u){if(void 0===u&&(u=new n.InnerSubscriber(t,r,s)),!u.closed)return e instanceof i.Observable?e.subscribe(u):o.subscribeTo(e)(u)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(3);e.canReportError=function(t){for(;t;){var e=t,r=e.closed,o=e.destination,i=e.isStopped;if(r||i)return!1;t=o&&o instanceof n.Subscriber?o:null}return!0}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hostReportError=function(t){setTimeout((function(){throw t}),0)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isObject=function(t){return null!==t&&"object"==typeof t}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.rxSubscriber="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),e.$$rxSubscriber=e.rxSubscriber},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(6),o=r(13),i=r(26);e.of=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return n.isScheduler(r)?(t.pop(),i.scheduleArray(t,r)):o.fromArray(t)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1),o=r(2);e.scheduleArray=function(t,e){return new n.Observable((function(r){var n=new o.Subscription,i=0;return n.add(e.schedule((function(){i!==t.length?(r.next(t[i++]),r.closed||n.add(this.schedule())):r.complete()}))),n}))}},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=r(8),s=r(2),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.value=null,e.hasNext=!1,e.hasCompleted=!1,e}return o(e,t),e.prototype._subscribe=function(e){return this.hasError?(e.error(this.thrownError),s.Subscription.EMPTY):this.hasCompleted&&this.hasNext?(e.next(this.value),e.complete(),s.Subscription.EMPTY):t.prototype._subscribe.call(this,e)},e.prototype.next=function(t){this.hasCompleted||(this.value=t,this.hasNext=!0)},e.prototype.error=function(e){this.hasCompleted||t.prototype.error.call(this,e)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(i.Subject);e.AsyncSubject=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(11),o=r(12);e.async=new o.AsyncScheduler(n.AsyncAction)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(40),o=r(83),i=r(84),s=r(85),u=r(44),c=r(45),a=r(23),l=r(14),f=r(7);e.subscribeTo=function(t){if(t&&"function"==typeof t[f.observable])return s.subscribeToObservable(t);if(u.isArrayLike(t))return n.subscribeToArray(t);if(c.isPromise(t))return o.subscribeToPromise(t);if(t&&"function"==typeof t[l.iterator])return i.subscribeToIterable(t);var e=a.isObject(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},function(e,r){e.exports=t},function(t,e,r){"use strict";r.d(e,"a",(function(){return u}));var n=r(0),o=r(52),i=r(30),s=function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function s(t){try{c(n.next(t))}catch(t){i(t)}}function u(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,u)}c((n=n.apply(t,e||[])).next())}))};class u{constructor(t,e,r,n){this.log=n||console.log,this.client=new o.RxSocketClient(t,{query:`auth_token=${r}&mediasoup_worker=${e}`,transports:["websocket"],forceNew:!0,path:""})}initSocket(){return this.client.init().pipe(Object(i.map)(()=>{})).toPromise()}resumeConsumer(t){return s(this,void 0,void 0,(function*(){yield this.request(n.a.RESUME_CONSUMER,t)}))}pauseConsumer(t){return s(this,void 0,void 0,(function*(){yield this.request(n.a.PAUSE_CONSUMER,t)}))}setPreferredLayers(t){return s(this,void 0,void 0,(function*(){yield this.request(n.a.SET_PREFERRED_LAYERS,t)}))}closeConsumer(t){return s(this,void 0,void 0,(function*(){yield this.request(n.a.CLOSE_CONSUMER,t)}))}resumeProducer(t){return s(this,void 0,void 0,(function*(){yield this.request(n.a.RESUME_PRODUCER,t)}))}pauseProducer(t){return s(this,void 0,void 0,(function*(){yield this.request(n.a.PAUSE_PRODUCER,t)}))}closeProducer(t){return s(this,void 0,void 0,(function*(){yield this.request(n.a.CLOSE_PRODUCER,t)}))}produce(t){return s(this,void 0,void 0,(function*(){return yield this.request(n.a.PRODUCE,t)}))}consume(t){return s(this,void 0,void 0,(function*(){return yield this.request(n.a.CONSUME,t)}))}createPipeTransport(){return s(this,void 0,void 0,(function*(){return yield this.request(n.a.CREATE_PIPE_TRANSPORT)}))}connectPipeTransport(t){return s(this,void 0,void 0,(function*(){yield this.request(n.a.CONNECT_PIPE_TRANSPORT,t)}))}closeTransport(t){return s(this,void 0,void 0,(function*(){yield this.request(n.a.CLOSE_TRANSPORT,t)}))}getServerConfigs(){return s(this,void 0,void 0,(function*(){return yield this.request(n.a.GET_SERVER_CONFIGS)}))}createTransport(){return s(this,void 0,void 0,(function*(){return yield this.request(n.a.CREATE_TRANSPORT)}))}connectTransport(t){return s(this,void 0,void 0,(function*(){yield this.request(n.a.CONNECT_TRANSPORT,t)}))}setMaxIncomingBitrate(t){return s(this,void 0,void 0,(function*(){yield this.request(n.a.SET_MAX_INCOMING_BITRATE,t)}))}producersStats(t){return s(this,void 0,void 0,(function*(){return yield this.request(n.a.PRODUCERS_STATS,t)}))}consumersStats(t){return s(this,void 0,void 0,(function*(){return yield this.request(n.a.CONSUMERS_STATS,t)}))}transportStats(t){return s(this,void 0,void 0,(function*(){return yield this.request(n.a.TRANSPORT_STATS,t)}))}workerLoad(){return s(this,void 0,void 0,(function*(){return yield this.request(n.a.WORKER_LOAD)}))}numWorkers(){return s(this,void 0,void 0,(function*(){return yield this.request(n.a.NUM_WORKERS)}))}pipeToRemoteProducer(t){return s(this,void 0,void 0,(function*(){yield this.request(n.a.PIPE_TO_REMOTE_PRODUCER,t)}))}pipeFromRemoteProducer(t){return s(this,void 0,void 0,(function*(){yield this.request(n.a.PIPE_FROM_REMOTE_PRODUCER,t)}))}startRecording(t){return s(this,void 0,void 0,(function*(){yield this.request(n.a.START_RECORDING,t)}))}stopRecording(t){return s(this,void 0,void 0,(function*(){yield this.request(n.a.STOP_RECORDING,t)}))}fileStreaming(t){return s(this,void 0,void 0,(function*(){yield this.request(n.a.FILE_STREAMING,t)}))}stopFileStreaming(t){return s(this,void 0,void 0,(function*(){yield this.request(n.a.STOP_FILE_STREAMING,t)}))}recordedStreams(){return s(this,void 0,void 0,(function*(){return yield this.request(n.a.RECORDED_STREAMS)}))}streamRecordings(t){return s(this,void 0,void 0,(function*(){return yield this.request(n.a.STREAM_RECORDINGS,t)}))}deleteStreamRecordings(t){return s(this,void 0,void 0,(function*(){yield this.request(n.a.DELETE_STREAM_RECORDINGS,t)}))}deleteRecording(t){return s(this,void 0,void 0,(function*(){yield this.request(n.a.DELETE_RECORDING,t)}))}pushToServerInputs(t){return s(this,void 0,void 0,(function*(){return yield this.request(n.a.PUSH_TO_SERVER_INPUTS,t)}))}pushToServerOptions(t){return s(this,void 0,void 0,(function*(){return yield this.request(n.a.PUSH_TO_SERVER_OPTIONS,t)}))}pushToServer(t){return s(this,void 0,void 0,(function*(){yield this.request(n.a.PUSH_TO_SERVER,t)}))}pullFromServerInputs(t){return s(this,void 0,void 0,(function*(){return yield this.request(n.a.PULL_FROM_SERVER_INPUTS,t)}))}kindsByFile(t){return s(this,void 0,void 0,(function*(){return yield this.request(n.a.KINDS_BY_FILE,t)}))}requestKeyframe(t){return s(this,void 0,void 0,(function*(){yield this.request(n.a.REQUEST_KEYFRAME,t)}))}listenStreamStarted(t){return s(this,void 0,void 0,(function*(){return yield this.request(n.a.LISTEN_STREAM_STARTED,t)}))}listenStreamStopped(t){return s(this,void 0,void 0,(function*(){return yield this.request(n.a.LISTEN_STREAM_STOPPED,t)}))}liveStreaming(t){return s(this,void 0,void 0,(function*(){yield this.request(n.a.LIVE_STREAMING,t)}))}mixerStart(t){return s(this,void 0,void 0,(function*(){return yield this.request(n.a.MIXER_START,t)}))}mixerClose(t){return s(this,void 0,void 0,(function*(){yield this.request(n.a.MIXER_CLOSE,t)}))}mixerAdd(t){return s(this,void 0,void 0,(function*(){yield this.request(n.a.MIXER_ADD,t)}))}mixerUpdate(t){return s(this,void 0,void 0,(function*(){yield this.request(n.a.MIXER_UPDATE,t)}))}mixerRemove(t){return s(this,void 0,void 0,(function*(){yield this.request(n.a.MIXER_REMOVE,t)}))}mixerPipeStart(t){return s(this,void 0,void 0,(function*(){return yield this.request(n.a.MIXER_PIPE_START,t)}))}mixerPipeStop(t){return s(this,void 0,void 0,(function*(){yield this.request(n.a.MIXER_PIPE_STOP,t)}))}clear(){this.client.close()}request(t,e={}){return s(this,void 0,void 0,(function*(){this.log("sent message",t,JSON.stringify(e));const r=yield this.client.emit(t,e).toPromise();if(r&&r.hasOwnProperty("errorId"))throw this.log("got error",t,JSON.stringify(r)),r;return this.log("got message",t,JSON.stringify(r)),r}))}}},function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));var n=r(53),o=r(54);class i extends n.EventEmitter{listen(t){return new o.Observable(e=>{function r(t){e.next(t)}return this.on(t,r),{unsubscribe:()=>{this.off(t,r)}}})}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(16),o=r(22);e.empty={closed:!0,next:function(t){},error:function(t){if(n.config.useDeprecatedSynchronousErrorHandling)throw t;o.hostReportError(t)},complete:function(){}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}();e.UnsubscriptionError=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(17);function o(t){return 0===t.length?n.identity:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}e.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o(t)},e.pipeFromArray=o},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e,r){var n=t.call(this)||this;return n.subject=e,n.subscriber=r,n.closed=!1,n}return o(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var r=e.indexOf(this.subscriber);-1!==r&&e.splice(r,1)}}},e}(r(2).Subscription);e.SubjectSubscription=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(64),o=r(66);e.queue=new o.QueueScheduler(n.QueueAction)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(e,r){void 0===r&&(r=t.now),this.SchedulerAction=e,this.now=r}return t.prototype.schedule=function(t,e,r){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(r,e)},t.now=function(){return Date.now()},t}();e.Scheduler=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(5),o=r(25),i=r(41);!function(t){t.NEXT="N",t.ERROR="E",t.COMPLETE="C"}(e.NotificationKind||(e.NotificationKind={}));var s=function(){function t(t,e,r){this.kind=t,this.value=e,this.error=r,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,r){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return r&&r()}},t.prototype.accept=function(t,e,r){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,r)},t.prototype.toObservable=function(){switch(this.kind){case"N":return o.of(this.value);case"E":return i.throwError(this.error);case"C":return n.empty()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();e.Notification=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.subscribeToArray=function(t){return function(e){for(var r=0,n=t.length;r<n&&!e.closed;r++)e.next(t[r]);e.complete()}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1);function o(t){var e=t.error;t.subscriber.error(e)}e.throwError=function(t,e){return e?new n.Observable((function(r){return e.schedule(o,0,{error:t,subscriber:r})})):new n.Observable((function(e){return e.error(t)}))}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.noop=function(){}},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e,r,n){var o=t.call(this)||this;return o.parent=e,o.outerValue=r,o.outerIndex=n,o.index=0,o}return o(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(r(3).Subscriber);e.InnerSubscriber=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isArrayLike=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isPromise=function(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(88),o=r(17);e.mergeAll=function(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),n.mergeMap(o.identity,t)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(89),o=r(90),i=r(26),s=r(91),u=r(92),c=r(45),a=r(44),l=r(93);e.scheduled=function(t,e){if(null!=t){if(u.isInteropObservable(t))return n.scheduleObservable(t,e);if(c.isPromise(t))return o.schedulePromise(t,e);if(a.isArrayLike(t))return i.scheduleArray(t,e);if(l.isIterable(t)||"string"==typeof t)return s.scheduleIterable(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1),o=r(10),i=r(5);e.defer=function(t){return new n.Observable((function(e){var r;try{r=t()}catch(t){return void e.error(t)}return(r?o.from(r):i.empty()).subscribe(e)}))}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(4);e.isNumeric=function(t){return!n.isArray(t)&&t-parseFloat(t)+1>=0}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1),o=r(42);e.NEVER=new n.Observable(o.noop),e.never=function(){return e.NEVER}},function(t,e){},function(t,e,r){var n,o,i;t.exports=(n=r(56),o=r(30),i=r(57),function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=1)}([function(t,e,r){"use strict";r.r(e),r.d(e,"__extends",(function(){return o})),r.d(e,"__assign",(function(){return i})),r.d(e,"__rest",(function(){return s})),r.d(e,"__decorate",(function(){return u})),r.d(e,"__param",(function(){return c})),r.d(e,"__metadata",(function(){return a})),r.d(e,"__awaiter",(function(){return l})),r.d(e,"__generator",(function(){return f})),r.d(e,"__createBinding",(function(){return p})),r.d(e,"__exportStar",(function(){return h})),r.d(e,"__values",(function(){return d})),r.d(e,"__read",(function(){return b})),r.d(e,"__spread",(function(){return v})),r.d(e,"__spreadArrays",(function(){return y})),r.d(e,"__await",(function(){return _})),r.d(e,"__asyncGenerator",(function(){return O})),r.d(e,"__asyncDelegator",(function(){return S})),r.d(e,"__asyncValues",(function(){return E})),r.d(e,"__makeTemplateObject",(function(){return m})),r.d(e,"__importStar",(function(){return P})),r.d(e,"__importDefault",(function(){return w})),r.d(e,"__classPrivateFieldGet",(function(){return g})),r.d(e,"__classPrivateFieldSet",(function(){return j}));var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function o(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var i=function(){return(i=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function s(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]])}return r}function u(t,e,r,n){var o,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,n);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function c(t,e){return function(r,n){e(r,n,t)}}function a(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,r,n){return new(r||(r=Promise))((function(o,i){function s(t){try{c(n.next(t))}catch(t){i(t)}}function u(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,u)}c((n=n.apply(t,e||[])).next())}))}function f(t,e){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}function p(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}function h(t,e){for(var r in t)"default"===r||e.hasOwnProperty(r)||(e[r]=t[r])}function d(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function b(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(b(arguments[e]));return t}function y(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<r;e++)for(var i=arguments[e],s=0,u=i.length;s<u;s++,o++)n[o]=i[s];return n}function _(t){return this instanceof _?(this.v=t,this):new _(t)}function O(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(t,e||[]),i=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(t){o[t]&&(n[t]=function(e){return new Promise((function(r,n){i.push([t,e,r,n])>1||u(t,e)}))})}function u(t,e){try{(r=o[t](e)).value instanceof _?Promise.resolve(r.value.v).then(c,a):l(i[0][2],r)}catch(t){l(i[0][3],t)}var r}function c(t){u("next",t)}function a(t){u("throw",t)}function l(t,e){t(e),i.shift(),i.length&&u(i[0][0],i[0][1])}}function S(t){var e,r;return e={},n("next"),n("throw",(function(t){throw t})),n("return"),e[Symbol.iterator]=function(){return this},e;function n(n,o){e[n]=t[n]?function(e){return(r=!r)?{value:_(t[n](e)),done:"return"===n}:o?o(e):e}:o}}function E(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t=d(t),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(r){e[r]=t[r]&&function(e){return new Promise((function(n,o){!function(t,e,r,n){Promise.resolve(n).then((function(e){t({value:e,done:r})}),e)}(n,o,(e=t[r](e)).done,e.value)}))}}}function m(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function P(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function w(t){return t&&t.__esModule?t:{default:t}}function g(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function j(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),r(0).__exportStar(r(2),e)},function(t,e,r){"use strict";var n,o,i,s,u;Object.defineProperty(e,"__esModule",{value:!0}),e.RxSocketClient=e.Status=void 0;const c=r(0),a=r(3),l=r(4),f=r(5);var p;!function(t){t[t.NOT_CONNECTED=0]="NOT_CONNECTED",t[t.CONNECTING=1]="CONNECTING",t[t.CONNECTED=2]="CONNECTED",t[t.RECONNECTING=3]="RECONNECTING",t[t.RECONNECTED=4]="RECONNECTED",t[t.DISCONNECTED=5]="DISCONNECTED",t[t.CLOSED=6]="CLOSED"}(p=e.Status||(e.Status={})),e.RxSocketClient=class{constructor(t,e={},r=(()=>!1)){if(this.serverUrl=t,this.socketOptions=e,this.errorPredicationCallback=r,n.set(this,null),o.set(this,new a.BehaviorSubject(p.NOT_CONNECTED)),i.set(this,()=>{if(null===c.__classPrivateFieldGet(this,n))throw new Error("Socket is not inited!");return c.__classPrivateFieldGet(this,n)}),s.set(this,()=>c.__classPrivateFieldGet(this,o).pipe(l.distinctUntilChanged()).pipe(l.filter(t=>t===p.DISCONNECTED)).pipe(l.map(()=>{}))),u.set(this,t=>a.merge(c.__classPrivateFieldGet(this,s).call(this).pipe(l.flatMap(()=>a.throwError("Socket connection lost!"))),t)),"string"!=typeof t)throw new Error('"serverUrl" isn\'t provided!')}get id(){return c.__classPrivateFieldGet(this,i).call(this).id}get status(){return c.__classPrivateFieldGet(this,o).value}get status$(){return c.__classPrivateFieldGet(this,o).asObservable()}init(){if(this.status===p.CONNECTED)throw new Error("Trying to connect already connected socket connection!");if(this.status===p.CONNECTING)throw new Error("Previous connecting is pending!");return c.__classPrivateFieldGet(this,o).next(p.CONNECTING),new a.Observable(t=>{const e=f.connect(this.serverUrl,"object"==typeof this.socketOptions?this.socketOptions:this.socketOptions()),r=e=>{c.__classPrivateFieldGet(this,o).next(p.NOT_CONNECTED),t.error(e)};e.once("connect_error",r),e.once("connect_timeout",r),e.once("connect",()=>{e.off("connect_error",r),e.off("connect_timeout",r),c.__classPrivateFieldSet(this,n,e),c.__classPrivateFieldGet(this,o).next(p.CONNECTED),e.on("connect_error",()=>c.__classPrivateFieldGet(this,o).next(p.DISCONNECTED)),e.on("connect_timeout",()=>c.__classPrivateFieldGet(this,o).next(p.DISCONNECTED)),e.on("reconnecting",()=>c.__classPrivateFieldGet(this,o).next(p.RECONNECTING)),e.on("reconnect",()=>{c.__classPrivateFieldGet(this,o).next(p.RECONNECTED),c.__classPrivateFieldGet(this,o).next(p.CONNECTED)}),t.next(!0),t.complete()})})}close(){c.__classPrivateFieldGet(this,o).next(p.CLOSED),c.__classPrivateFieldGet(this,o).complete(),c.__classPrivateFieldGet(this,i).call(this).removeAllListeners(),c.__classPrivateFieldGet(this,i).call(this).close(),c.__classPrivateFieldSet(this,n,null)}emit(t,e={}){const r=new a.Observable(r=>{c.__classPrivateFieldGet(this,i).call(this).emit(t,"object"==typeof e?Object.assign({},e):{},t=>{this.errorPredicationCallback(t)?r.error(t):(r.next(t),r.complete())})});return c.__classPrivateFieldGet(this,u).call(this,r).pipe(l.take(1))}listen(t){const e=new a.Observable(e=>{function r(t){e.next(t)}return c.__classPrivateFieldGet(this,i).call(this).on(t,r),{unsubscribe:()=>{c.__classPrivateFieldGet(this,i).call(this).off(t,r)}}});return c.__classPrivateFieldGet(this,u).call(this,e)}listenWithAck(t){const e=new a.Observable(e=>{function r(t,r){e.next({ack:r,data:t})}return c.__classPrivateFieldGet(this,i).call(this).on(t,r),{unsubscribe:()=>{c.__classPrivateFieldGet(this,i).call(this).off(t,r)}}});return c.__classPrivateFieldGet(this,u).call(this,e)}},n=new WeakMap,o=new WeakMap,i=new WeakMap,s=new WeakMap,u=new WeakMap},function(t,e){t.exports=n},function(t,e){t.exports=o},function(t,e){t.exports=i}]))},function(t,e,r){"use strict";var n,o="object"==typeof Reflect?Reflect:null,i=o&&"function"==typeof o.apply?o.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};n=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var s=Number.isNaN||function(t){return t!=t};function u(){u.init.call(this)}t.exports=u,u.EventEmitter=u,u.prototype._events=void 0,u.prototype._eventsCount=0,u.prototype._maxListeners=void 0;var c=10;function a(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function l(t){return void 0===t._maxListeners?u.defaultMaxListeners:t._maxListeners}function f(t,e,r,n){var o,i,s,u;if(a(r),void 0===(i=t._events)?(i=t._events=Object.create(null),t._eventsCount=0):(void 0!==i.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),i=t._events),s=i[e]),void 0===s)s=i[e]=r,++t._eventsCount;else if("function"==typeof s?s=i[e]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(o=l(t))>0&&s.length>o&&!s.warned){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=t,c.type=e,c.count=s.length,u=c,console&&console.warn&&console.warn(u)}return t}function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},o=p.bind(n);return o.listener=r,n.wrapFn=o,o}function d(t,e,r){var n=t._events;if(void 0===n)return[];var o=n[e];return void 0===o?[]:"function"==typeof o?r?[o.listener||o]:[o]:r?function(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}(o):v(o,o.length)}function b(t){var e=this._events;if(void 0!==e){var r=e[t];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function v(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}Object.defineProperty(u,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");c=t}}),u.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},u.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},u.prototype.getMaxListeners=function(){return l(this)},u.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var n="error"===t,o=this._events;if(void 0!==o)n=n&&void 0===o.error;else if(!n)return!1;if(n){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var u=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw u.context=s,u}var c=o[t];if(void 0===c)return!1;if("function"==typeof c)i(c,this,e);else{var a=c.length,l=v(c,a);for(r=0;r<a;++r)i(l[r],this,e)}return!0},u.prototype.addListener=function(t,e){return f(this,t,e,!1)},u.prototype.on=u.prototype.addListener,u.prototype.prependListener=function(t,e){return f(this,t,e,!0)},u.prototype.once=function(t,e){return a(e),this.on(t,h(this,t,e)),this},u.prototype.prependOnceListener=function(t,e){return a(e),this.prependListener(t,h(this,t,e)),this},u.prototype.removeListener=function(t,e){var r,n,o,i,s;if(a(e),void 0===(n=this._events))return this;if(void 0===(r=n[t]))return this;if(r===e||r.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,r.listener||e));else if("function"!=typeof r){for(o=-1,i=r.length-1;i>=0;i--)if(r[i]===e||r[i].listener===e){s=r[i].listener,o=i;break}if(o<0)return this;0===o?r.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(r,o),1===r.length&&(n[t]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",t,s||e)}return this},u.prototype.off=u.prototype.removeListener,u.prototype.removeAllListeners=function(t){var e,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[t]),this;if(0===arguments.length){var o,i=Object.keys(r);for(n=0;n<i.length;++n)"removeListener"!==(o=i[n])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=r[t]))this.removeListener(t,e);else if(void 0!==e)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this},u.prototype.listeners=function(t){return d(this,t,!0)},u.prototype.rawListeners=function(t){return d(this,t,!1)},u.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):b.call(t,e)},u.prototype.listenerCount=b,u.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1);e.Observable=n.Observable;var o=r(59);e.ConnectableObservable=o.ConnectableObservable;var i=r(61);e.GroupedObservable=i.GroupedObservable;var s=r(7);e.observable=s.observable;var u=r(8);e.Subject=u.Subject;var c=r(62);e.BehaviorSubject=c.BehaviorSubject;var a=r(63);e.ReplaySubject=a.ReplaySubject;var l=r(27);e.AsyncSubject=l.AsyncSubject;var f=r(68);e.asapScheduler=f.asap;var p=r(28);e.asyncScheduler=p.async;var h=r(37);e.queueScheduler=h.queue;var d=r(72);e.animationFrameScheduler=d.animationFrame;var b=r(75);e.VirtualTimeScheduler=b.VirtualTimeScheduler,e.VirtualAction=b.VirtualAction;var v=r(38);e.Scheduler=v.Scheduler;var y=r(2);e.Subscription=y.Subscription;var _=r(3);e.Subscriber=_.Subscriber;var O=r(39);e.Notification=O.Notification,e.NotificationKind=O.NotificationKind;var S=r(35);e.pipe=S.pipe;var E=r(42);e.noop=E.noop;var m=r(17);e.identity=m.identity;var P=r(76);e.isObservable=P.isObservable;var w=r(77);e.ArgumentOutOfRangeError=w.ArgumentOutOfRangeError;var g=r(78);e.EmptyError=g.EmptyError;var j=r(18);e.ObjectUnsubscribedError=j.ObjectUnsubscribedError;var T=r(34);e.UnsubscriptionError=T.UnsubscriptionError;var R=r(79);e.TimeoutError=R.TimeoutError;var x=r(80);e.bindCallback=x.bindCallback;var A=r(81);e.bindNodeCallback=A.bindNodeCallback;var N=r(82);e.combineLatest=N.combineLatest;var I=r(86);e.concat=I.concat;var M=r(48);e.defer=M.defer;var C=r(5);e.empty=C.empty;var D=r(94);e.forkJoin=D.forkJoin;var L=r(10);e.from=L.from;var k=r(95);e.fromEvent=k.fromEvent;var U=r(96);e.fromEventPattern=U.fromEventPattern;var F=r(97);e.generate=F.generate;var G=r(98);e.iif=G.iif;var q=r(99);e.interval=q.interval;var V=r(100);e.merge=V.merge;var Y=r(50);e.never=Y.never;var B=r(25);e.of=B.of;var W=r(101);e.onErrorResumeNext=W.onErrorResumeNext;var H=r(102);e.pairs=H.pairs;var K=r(103);e.partition=K.partition;var X=r(106);e.race=X.race;var J=r(107);e.range=J.range;var z=r(41);e.throwError=z.throwError;var $=r(108);e.timer=$.timer;var Q=r(109);e.using=Q.using;var Z=r(110);e.zip=Z.zip;var tt=r(47);e.scheduled=tt.scheduled;var et=r(5);e.EMPTY=et.EMPTY;var rt=r(50);e.NEVER=rt.NEVER;var nt=r(16);e.config=nt.config},function(t,e,r){"use strict";r.r(e);var n=r(0);r.d(e,"ERROR",(function(){return n.c})),r.d(e,"ACTION",(function(){return n.a})),r.d(e,"API_OPERATION",(function(){return n.b})),r.d(e,"EVENT",(function(){return n.d})),r.d(e,"STAT",(function(){return n.e}));var o=r(31);r.d(e,"MediasoupSocketApi",(function(){return o.a}));var i=r(32);r.d(e,"ListenEmitter",(function(){return i.a}));var s=r(51);for(var u in s)["ERROR","ACTION","API_OPERATION","EVENT","STAT","MediasoupSocketApi","ListenEmitter","default"].indexOf(u)<0&&function(t){r.d(e,t,(function(){return s[t]}))}(u)},function(t,r){t.exports=e},function(t,e){t.exports=r},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(3),o=r(24),i=r(33);e.toSubscriber=function(t,e,r){if(t){if(t instanceof n.Subscriber)return t;if(t[o.rxSubscriber])return t[o.rxSubscriber]()}return t||e||r?new n.Subscriber(t,e,r):new n.Subscriber(i.empty)}},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i,s=r(8),u=r(1),c=r(3),a=r(2),l=r(60),f=function(t){function e(e,r){var n=t.call(this)||this;return n.source=e,n.subjectFactory=r,n._refCount=0,n._isComplete=!1,n}return o(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new a.Subscription).add(this.source.subscribe(new p(this.getSubject(),this))),t.closed&&(this._connection=null,t=a.Subscription.EMPTY)),t},e.prototype.refCount=function(){return l.refCount()(this)},e}(u.Observable);e.ConnectableObservable=f,e.connectableObservableDescriptor={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(i=f.prototype)._subscribe},_isComplete:{value:i._isComplete,writable:!0},getSubject:{value:i.getSubject},connect:{value:i.connect},refCount:{value:i.refCount}};var p=function(t){function e(e,r){var n=t.call(this,e)||this;return n.connectable=r,n}return o(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(s.SubjectSubscriber),h=(function(){function t(t){this.connectable=t}t.prototype.call=function(t,e){var r=this.connectable;r._refCount++;var n=new h(t,r),o=e.subscribe(n);return n.closed||(n.connection=r.connect()),o}}(),function(t){function e(e,r){var n=t.call(this,e)||this;return n.connectable=r,n}return o(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var r=this.connection,n=t._connection;this.connection=null,!n||r&&n!==r||n.unsubscribe()}}else this.connection=null},e}(c.Subscriber))},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=r(3);e.refCount=function(){return function(t){return t.lift(new s(t))}};var s=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var r=this.connectable;r._refCount++;var n=new u(t,r),o=e.subscribe(n);return n.closed||(n.connection=r.connect()),o},t}(),u=function(t){function e(e,r){var n=t.call(this,e)||this;return n.connectable=r,n}return o(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var r=this.connection,n=t._connection;this.connection=null,!n||r&&n!==r||n.unsubscribe()}}else this.connection=null},e}(i.Subscriber)},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=r(3),s=r(2),u=r(1),c=r(8);e.groupBy=function(t,e,r,n){return function(o){return o.lift(new a(t,e,r,n))}};var a=function(){function t(t,e,r,n){this.keySelector=t,this.elementSelector=e,this.durationSelector=r,this.subjectSelector=n}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},t}(),l=function(t){function e(e,r,n,o,i){var s=t.call(this,e)||this;return s.keySelector=r,s.elementSelector=n,s.durationSelector=o,s.subjectSelector=i,s.groups=null,s.attemptedToUnsubscribe=!1,s.count=0,s}return o(e,t),e.prototype._next=function(t){var e;try{e=this.keySelector(t)}catch(t){return void this.error(t)}this._group(t,e)},e.prototype._group=function(t,e){var r=this.groups;r||(r=this.groups=new Map);var n,o=r.get(e);if(this.elementSelector)try{n=this.elementSelector(t)}catch(t){this.error(t)}else n=t;if(!o){o=this.subjectSelector?this.subjectSelector():new c.Subject,r.set(e,o);var i=new p(e,o,this);if(this.destination.next(i),this.durationSelector){var s=void 0;try{s=this.durationSelector(new p(e,o))}catch(t){return void this.error(t)}this.add(s.subscribe(new f(e,o,this)))}}o.closed||o.next(n)},e.prototype._error=function(t){var e=this.groups;e&&(e.forEach((function(e,r){e.error(t)})),e.clear()),this.destination.error(t)},e.prototype._complete=function(){var t=this.groups;t&&(t.forEach((function(t,e){t.complete()})),t.clear()),this.destination.complete()},e.prototype.removeGroup=function(t){this.groups.delete(t)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&t.prototype.unsubscribe.call(this))},e}(i.Subscriber),f=function(t){function e(e,r,n){var o=t.call(this,r)||this;return o.key=e,o.group=r,o.parent=n,o}return o(e,t),e.prototype._next=function(t){this.complete()},e.prototype._unsubscribe=function(){var t=this.parent,e=this.key;this.key=this.parent=null,t&&t.removeGroup(e)},e}(i.Subscriber),p=function(t){function e(e,r,n){var o=t.call(this)||this;return o.key=e,o.groupSubject=r,o.refCountSubscription=n,o}return o(e,t),e.prototype._subscribe=function(t){var e=new s.Subscription,r=this.refCountSubscription,n=this.groupSubject;return r&&!r.closed&&e.add(new h(r)),e.add(n.subscribe(t)),e},e}(u.Observable);e.GroupedObservable=p;var h=function(t){function e(e){var r=t.call(this)||this;return r.parent=e,e.count++,r}return o(e,t),e.prototype.unsubscribe=function(){var e=this.parent;e.closed||this.closed||(t.prototype.unsubscribe.call(this),e.count-=1,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())},e}(s.Subscription)},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=r(8),s=r(18),u=function(t){function e(e){var r=t.call(this)||this;return r._value=e,r}return o(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var r=t.prototype._subscribe.call(this,e);return r&&!r.closed&&e.next(this._value),r},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new s.ObjectUnsubscribedError;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(i.Subject);e.BehaviorSubject=u},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=r(8),s=r(37),u=r(2),c=r(67),a=r(18),l=r(36),f=function(t){function e(e,r,n){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===r&&(r=Number.POSITIVE_INFINITY);var o=t.call(this)||this;return o.scheduler=n,o._events=[],o._infiniteTimeWindow=!1,o._bufferSize=e<1?1:e,o._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(o._infiniteTimeWindow=!0,o.next=o.nextInfiniteTimeWindow):o.next=o.nextTimeWindow,o}return o(e,t),e.prototype.nextInfiniteTimeWindow=function(e){var r=this._events;r.push(e),r.length>this._bufferSize&&r.shift(),t.prototype.next.call(this,e)},e.prototype.nextTimeWindow=function(e){this._events.push(new p(this._getNow(),e)),this._trimBufferThenGetEvents(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){var e,r=this._infiniteTimeWindow,n=r?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,i=n.length;if(this.closed)throw new a.ObjectUnsubscribedError;if(this.isStopped||this.hasError?e=u.Subscription.EMPTY:(this.observers.push(t),e=new l.SubjectSubscription(this,t)),o&&t.add(t=new c.ObserveOnSubscriber(t,o)),r)for(var s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e},e.prototype._getNow=function(){return(this.scheduler||s.queue).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,r=this._windowTime,n=this._events,o=n.length,i=0;i<o&&!(t-n[i].time<r);)i++;return o>e&&(i=Math.max(i,o-e)),i>0&&n.splice(0,i),n},e}(i.Subject);e.ReplaySubject=f;var p=function(t,e){this.time=t,this.value=e}},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e,r){var n=t.call(this,e,r)||this;return n.scheduler=e,n.work=r,n}return o(e,t),e.prototype.schedule=function(e,r){return void 0===r&&(r=0),r>0?t.prototype.schedule.call(this,e,r):(this.delay=r,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,r){return r>0||this.closed?t.prototype.execute.call(this,e,r):this._execute(e,r)},e.prototype.requestAsyncId=function(e,r,n){return void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0?t.prototype.requestAsyncId.call(this,e,r,n):e.flush(this)},e}(r(11).AsyncAction);e.QueueAction=i},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e,r){return t.call(this)||this}return o(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(r(2).Subscription);e.Action=i},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(r(12).AsyncScheduler);e.QueueScheduler=i},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=r(3),s=r(39);e.observeOn=function(t,e){return void 0===e&&(e=0),function(r){return r.lift(new u(t,e))}};var u=function(){function t(t,e){void 0===e&&(e=0),this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.scheduler,this.delay))},t}();e.ObserveOnOperator=u;var c=function(t){function e(e,r,n){void 0===n&&(n=0);var o=t.call(this,e)||this;return o.scheduler=r,o.delay=n,o}return o(e,t),e.dispatch=function(t){var e=t.notification,r=t.destination;e.observe(r),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.destination.add(this.scheduler.schedule(e.dispatch,this.delay,new a(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(s.Notification.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(s.Notification.createError(t)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(s.Notification.createComplete()),this.unsubscribe()},e}(i.Subscriber);e.ObserveOnSubscriber=c;var a=function(t,e){this.notification=t,this.destination=e};e.ObserveOnMessage=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(69),o=r(71);e.asap=new o.AsapScheduler(n.AsapAction)},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=r(70),s=function(t){function e(e,r){var n=t.call(this,e,r)||this;return n.scheduler=e,n.work=r,n}return o(e,t),e.prototype.requestAsyncId=function(e,r,n){return void 0===n&&(n=0),null!==n&&n>0?t.prototype.requestAsyncId.call(this,e,r,n):(e.actions.push(this),e.scheduled||(e.scheduled=i.Immediate.setImmediate(e.flush.bind(e,null))))},e.prototype.recycleAsyncId=function(e,r,n){if(void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,r,n);0===e.actions.length&&(i.Immediate.clearImmediate(r),e.scheduled=void 0)},e}(r(11).AsyncAction);e.AsapAction=s},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=1,o=Promise.resolve(),i={};function s(t){return t in i&&(delete i[t],!0)}e.Immediate={setImmediate:function(t){var e=n++;return i[e]=!0,o.then((function(){return s(e)&&t()})),e},clearImmediate:function(t){s(t)}},e.TestTools={pending:function(){return Object.keys(i).length}}},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,r=this.actions,n=-1,o=r.length;t=t||r.shift();do{if(e=t.execute(t.state,t.delay))break}while(++n<o&&(t=r.shift()));if(this.active=!1,e){for(;++n<o&&(t=r.shift());)t.unsubscribe();throw e}},e}(r(12).AsyncScheduler);e.AsapScheduler=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(73),o=r(74);e.animationFrame=new o.AnimationFrameScheduler(n.AnimationFrameAction)},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e,r){var n=t.call(this,e,r)||this;return n.scheduler=e,n.work=r,n}return o(e,t),e.prototype.requestAsyncId=function(e,r,n){return void 0===n&&(n=0),null!==n&&n>0?t.prototype.requestAsyncId.call(this,e,r,n):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame((function(){return e.flush(null)}))))},e.prototype.recycleAsyncId=function(e,r,n){if(void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,r,n);0===e.actions.length&&(cancelAnimationFrame(r),e.scheduled=void 0)},e}(r(11).AsyncAction);e.AnimationFrameAction=i},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,r=this.actions,n=-1,o=r.length;t=t||r.shift();do{if(e=t.execute(t.state,t.delay))break}while(++n<o&&(t=r.shift()));if(this.active=!1,e){for(;++n<o&&(t=r.shift());)t.unsubscribe();throw e}},e}(r(12).AsyncScheduler);e.AnimationFrameScheduler=i},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=r(11),s=function(t){function e(e,r){void 0===e&&(e=u),void 0===r&&(r=Number.POSITIVE_INFINITY);var n=t.call(this,e,(function(){return n.frame}))||this;return n.maxFrames=r,n.frame=0,n.index=-1,n}return o(e,t),e.prototype.flush=function(){for(var t,e,r=this.actions,n=this.maxFrames;(e=r[0])&&e.delay<=n&&(r.shift(),this.frame=e.delay,!(t=e.execute(e.state,e.delay))););if(t){for(;e=r.shift();)e.unsubscribe();throw t}},e.frameTimeFactor=10,e}(r(12).AsyncScheduler);e.VirtualTimeScheduler=s;var u=function(t){function e(e,r,n){void 0===n&&(n=e.index+=1);var o=t.call(this,e,r)||this;return o.scheduler=e,o.work=r,o.index=n,o.active=!0,o.index=e.index=n,o}return o(e,t),e.prototype.schedule=function(r,n){if(void 0===n&&(n=0),!this.id)return t.prototype.schedule.call(this,r,n);this.active=!1;var o=new e(this.scheduler,this.work);return this.add(o),o.schedule(r,n)},e.prototype.requestAsyncId=function(t,r,n){void 0===n&&(n=0),this.delay=t.frame+n;var o=t.actions;return o.push(this),o.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(t,e,r){void 0===r&&(r=0)},e.prototype._execute=function(e,r){if(!0===this.active)return t.prototype._execute.call(this,e,r)},e.sortActions=function(t,e){return t.delay===e.delay?t.index===e.index?0:t.index>e.index?1:-1:t.delay>e.delay?1:-1},e}(i.AsyncAction);e.VirtualAction=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1);e.isObservable=function(t){return!!t&&(t instanceof n.Observable||"function"==typeof t.lift&&"function"==typeof t.subscribe)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}();e.ArgumentOutOfRangeError=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}();e.EmptyError=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t}();e.TimeoutError=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1),o=r(27),i=r(9),s=r(21),u=r(4),c=r(6);function a(t){var e=this,r=t.args,n=t.subscriber,i=t.params,s=i.callbackFunc,u=i.context,c=i.scheduler,a=i.subject;if(!a){a=i.subject=new o.AsyncSubject;try{s.apply(u,r.concat([function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t.length<=1?t[0]:t;e.add(c.schedule(l,0,{value:n,subject:a}))}]))}catch(t){a.error(t)}}this.add(a.subscribe(n))}function l(t){var e=t.value,r=t.subject;r.next(e),r.complete()}e.bindCallback=function t(e,r,l){if(r){if(!c.isScheduler(r))return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return t(e,l).apply(void 0,n).pipe(i.map((function(t){return u.isArray(t)?r.apply(void 0,t):r(t)})))};l=r}return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i,u=this,c={context:u,subject:i,callbackFunc:e,scheduler:l};return new n.Observable((function(r){if(l){var n={args:t,subscriber:r,params:c};return l.schedule(a,0,n)}if(!i){i=new o.AsyncSubject;try{e.apply(u,t.concat([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.next(t.length<=1?t[0]:t),i.complete()}]))}catch(t){s.canReportError(i)?i.error(t):console.warn(t)}}return i.subscribe(r)}))}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1),o=r(27),i=r(9),s=r(21),u=r(6),c=r(4);function a(t){var e=this,r=t.params,n=t.subscriber,i=t.context,s=r.callbackFunc,u=r.args,c=r.scheduler,a=r.subject;if(!a){a=r.subject=new o.AsyncSubject;try{s.apply(i,u.concat([function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t.shift();if(n)e.add(c.schedule(f,0,{err:n,subject:a}));else{var o=t.length<=1?t[0]:t;e.add(c.schedule(l,0,{value:o,subject:a}))}}]))}catch(t){this.add(c.schedule(f,0,{err:t,subject:a}))}}this.add(a.subscribe(n))}function l(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function f(t){var e=t.err;t.subject.error(e)}e.bindNodeCallback=function t(e,r,l){if(r){if(!u.isScheduler(r))return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return t(e,l).apply(void 0,n).pipe(i.map((function(t){return c.isArray(t)?r.apply(void 0,t):r(t)})))};l=r}return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var i={subject:void 0,args:t,callbackFunc:e,scheduler:l,context:this};return new n.Observable((function(r){var n=i.context,u=i.subject;if(l)return l.schedule(a,0,{params:i,subscriber:r,context:n});if(!u){u=i.subject=new o.AsyncSubject;try{e.apply(n,t.concat([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.shift();r?u.error(r):(u.next(t.length<=1?t[0]:t),u.complete())}]))}catch(t){s.canReportError(u)?u.error(t):console.warn(t)}}return u.subscribe(r)}))}}},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=r(6),s=r(4),u=r(19),c=r(20),a=r(13),l={};e.combineLatest=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=null,n=null;return i.isScheduler(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&s.isArray(t[0])&&(t=t[0]),a.fromArray(t,n).lift(new f(r))};var f=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new p(t,this.resultSelector))},t}();e.CombineLatestOperator=f;var p=function(t){function e(e,r){var n=t.call(this,e)||this;return n.resultSelector=r,n.active=0,n.values=[],n.observables=[],n}return o(e,t),e.prototype._next=function(t){this.values.push(l),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var r=0;r<e;r++){var n=t[r];this.add(c.subscribeToResult(this,n,n,r))}}},e.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,r,n,o){var i=this.values,s=i[r],u=this.toRespond?s===l?--this.toRespond:this.toRespond:0;i[r]=e,0===u&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))},e.prototype._tryResultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(u.OuterSubscriber);e.CombineLatestSubscriber=p},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(22);e.subscribeToPromise=function(t){return function(e){return t.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,n.hostReportError),e}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(14);e.subscribeToIterable=function(t){return function(e){for(var r=t[n.iterator]();;){var o=r.next();if(o.done){e.complete();break}if(e.next(o.value),e.closed)break}return"function"==typeof r.return&&e.add((function(){r.return&&r.return()})),e}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(7);e.subscribeToObservable=function(t){return function(e){var r=t[n.observable]();if("function"!=typeof r.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return r.subscribe(e)}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(25),o=r(87);e.concat=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o.concatAll()(n.of.apply(void 0,t))}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(46);e.concatAll=function(){return n.mergeAll(1)}},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=r(20),s=r(19),u=r(43),c=r(9),a=r(10);e.mergeMap=function t(e,r,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof r?function(o){return o.pipe(t((function(t,n){return a.from(e(t,n)).pipe(c.map((function(e,o){return r(t,e,n,o)})))}),n))}:("number"==typeof r&&(n=r),function(t){return t.lift(new l(e,n))})};var l=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new f(t,this.project,this.concurrent))},t}();e.MergeMapOperator=l;var f=function(t){function e(e,r,n){void 0===n&&(n=Number.POSITIVE_INFINITY);var o=t.call(this,e)||this;return o.project=r,o.concurrent=n,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return o(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,r=this.index++;try{e=this.project(t,r)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e,t,r)},e.prototype._innerSub=function(t,e,r){var n=new u.InnerSubscriber(this,e,r),o=this.destination;o.add(n);var s=i.subscribeToResult(this,t,void 0,void 0,n);s!==n&&o.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t,e,r,n,o){this.destination.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(s.OuterSubscriber);e.MergeMapSubscriber=f},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1),o=r(2),i=r(7);e.scheduleObservable=function(t,e){return new n.Observable((function(r){var n=new o.Subscription;return n.add(e.schedule((function(){var o=t[i.observable]();n.add(o.subscribe({next:function(t){n.add(e.schedule((function(){return r.next(t)})))},error:function(t){n.add(e.schedule((function(){return r.error(t)})))},complete:function(){n.add(e.schedule((function(){return r.complete()})))}}))}))),n}))}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1),o=r(2);e.schedulePromise=function(t,e){return new n.Observable((function(r){var n=new o.Subscription;return n.add(e.schedule((function(){return t.then((function(t){n.add(e.schedule((function(){r.next(t),n.add(e.schedule((function(){return r.complete()})))})))}),(function(t){n.add(e.schedule((function(){return r.error(t)})))}))}))),n}))}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1),o=r(2),i=r(14);e.scheduleIterable=function(t,e){if(!t)throw new Error("Iterable cannot be null");return new n.Observable((function(r){var n,s=new o.Subscription;return s.add((function(){n&&"function"==typeof n.return&&n.return()})),s.add(e.schedule((function(){n=t[i.iterator](),s.add(e.schedule((function(){if(!r.closed){var t,e;try{var o=n.next();t=o.value,e=o.done}catch(t){return void r.error(t)}e?r.complete():(r.next(t),this.schedule())}})))}))),s}))}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(7);e.isInteropObservable=function(t){return t&&"function"==typeof t[n.observable]}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(14);e.isIterable=function(t){return t&&"function"==typeof t[n.iterator]}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1),o=r(4),i=r(9),s=r(23),u=r(10);function c(t,e){return new n.Observable((function(r){var n=t.length;if(0!==n)for(var o=new Array(n),i=0,s=0,c=function(c){var a=u.from(t[c]),l=!1;r.add(a.subscribe({next:function(t){l||(l=!0,s++),o[c]=t},error:function(t){return r.error(t)},complete:function(){++i!==n&&l||(s===n&&r.next(e?e.reduce((function(t,e,r){return t[e]=o[r],t}),{}):o),r.complete())}}))},a=0;a<n;a++)c(a);else r.complete()}))}e.forkJoin=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length){var r=t[0];if(o.isArray(r))return c(r,null);if(s.isObject(r)&&Object.getPrototypeOf(r)===Object.prototype){var n=Object.keys(r);return c(n.map((function(t){return r[t]})),n)}}if("function"==typeof t[t.length-1]){var u=t.pop();return c(t=1===t.length&&o.isArray(t[0])?t[0]:t,null).pipe(i.map((function(t){return u.apply(void 0,t)})))}return c(t,null)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1),o=r(4),i=r(15),s=r(9);Object.prototype.toString;e.fromEvent=function t(e,r,u,c){return i.isFunction(u)&&(c=u,u=void 0),c?t(e,r,u).pipe(s.map((function(t){return o.isArray(t)?c.apply(void 0,t):c(t)}))):new n.Observable((function(t){!function t(e,r,n,o,i){var s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){var u=e;e.addEventListener(r,n,i),s=function(){return u.removeEventListener(r,n,i)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){var c=e;e.on(r,n),s=function(){return c.off(r,n)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){var a=e;e.addListener(r,n),s=function(){return a.removeListener(r,n)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var l=0,f=e.length;l<f;l++)t(e[l],r,n,o,i)}o.add(s)}(e,r,(function(e){arguments.length>1?t.next(Array.prototype.slice.call(arguments)):t.next(e)}),t,u)}))}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1),o=r(4),i=r(15),s=r(9);e.fromEventPattern=function t(e,r,u){return u?t(e,r).pipe(s.map((function(t){return o.isArray(t)?u.apply(void 0,t):u(t)}))):new n.Observable((function(t){var n,o=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return t.next(1===e.length?e[0]:e)};try{n=e(o)}catch(e){return void t.error(e)}if(i.isFunction(r))return function(){return r(o,n)}}))}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1),o=r(17),i=r(6);function s(t){var e=t.subscriber,r=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(t){return void e.error(t)}else t.needIterate=!0;if(r){var n=void 0;try{n=r(t.state)}catch(t){return void e.error(t)}if(!n)return void e.complete();if(e.closed)return}var o;try{o=t.resultSelector(t.state)}catch(t){return void e.error(t)}if(!e.closed&&(e.next(o),!e.closed))return this.schedule(t)}}e.generate=function(t,e,r,u,c){var a,l;if(1==arguments.length){var f=t;l=f.initialState,e=f.condition,r=f.iterate,a=f.resultSelector||o.identity,c=f.scheduler}else void 0===u||i.isScheduler(u)?(l=t,a=o.identity,c=u):(l=t,a=u);return new n.Observable((function(t){var n=l;if(c)return c.schedule(s,0,{subscriber:t,iterate:r,condition:e,resultSelector:a,state:n});for(;;){if(e){var o=void 0;try{o=e(n)}catch(e){return void t.error(e)}if(!o){t.complete();break}}var i=void 0;try{i=a(n)}catch(e){return void t.error(e)}if(t.next(i),t.closed)break;try{n=r(n)}catch(e){return void t.error(e)}}}))}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(48),o=r(5);e.iif=function(t,e,r){return void 0===e&&(e=o.EMPTY),void 0===r&&(r=o.EMPTY),n.defer((function(){return t()?e:r}))}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1),o=r(28),i=r(49);function s(t){var e=t.subscriber,r=t.counter,n=t.period;e.next(r),this.schedule({subscriber:e,counter:r+1,period:n},n)}e.interval=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=o.async),(!i.isNumeric(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=o.async),new n.Observable((function(r){return r.add(e.schedule(s,t,{subscriber:r,counter:0,period:t})),r}))}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1),o=r(6),i=r(46),s=r(13);e.merge=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Number.POSITIVE_INFINITY,u=null,c=t[t.length-1];return o.isScheduler(c)?(u=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(r=t.pop())):"number"==typeof c&&(r=t.pop()),null===u&&1===t.length&&t[0]instanceof n.Observable?t[0]:i.mergeAll(r)(s.fromArray(t,u))}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1),o=r(10),i=r(4),s=r(5);e.onErrorResumeNext=function t(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];if(0===e.length)return s.EMPTY;var u=e[0],c=e.slice(1);return 1===e.length&&i.isArray(u)?t.apply(void 0,u):new n.Observable((function(e){var r=function(){return e.add(t.apply(void 0,c).subscribe(e))};return o.from(u).subscribe({next:function(t){e.next(t)},error:r,complete:r})}))}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1),o=r(2);function i(t){var e=t.keys,r=t.index,n=t.subscriber,o=t.subscription,i=t.obj;if(!n.closed)if(r<e.length){var s=e[r];n.next([s,i[s]]),o.add(this.schedule({keys:e,index:r+1,subscriber:n,subscription:o,obj:i}))}else n.complete()}e.pairs=function(t,e){return e?new n.Observable((function(r){var n=Object.keys(t),s=new o.Subscription;return s.add(e.schedule(i,0,{keys:n,index:0,subscriber:r,subscription:s,obj:t})),s})):new n.Observable((function(e){for(var r=Object.keys(t),n=0;n<r.length&&!e.closed;n++){var o=r[n];t.hasOwnProperty(o)&&e.next([o,t[o]])}e.complete()}))},e.dispatch=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(104),o=r(29),i=r(105),s=r(1);e.partition=function(t,e,r){return[i.filter(e,r)(new s.Observable(o.subscribeTo(t))),i.filter(n.not(e,r))(new s.Observable(o.subscribeTo(t)))]}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.not=function(t,e){function r(){return!r.pred.apply(r.thisArg,arguments)}return r.pred=t,r.thisArg=e,r}},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=r(3);e.filter=function(t,e){return function(r){return r.lift(new s(t,e))}};var s=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.predicate,this.thisArg))},t}(),u=function(t){function e(e,r,n){var o=t.call(this,e)||this;return o.predicate=r,o.thisArg=n,o.count=0,o}return o(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(i.Subscriber)},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=r(4),s=r(13),u=r(19),c=r(20);e.race=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length){if(!i.isArray(t[0]))return t[0];t=t[0]}return s.fromArray(t,void 0).lift(new a)};var a=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new l(t))},t}();e.RaceOperator=a;var l=function(t){function e(e){var r=t.call(this,e)||this;return r.hasFirst=!1,r.observables=[],r.subscriptions=[],r}return o(e,t),e.prototype._next=function(t){this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(var r=0;r<e&&!this.hasFirst;r++){var n=t[r],o=c.subscribeToResult(this,n,n,r);this.subscriptions&&this.subscriptions.push(o),this.add(o)}this.observables=null}},e.prototype.notifyNext=function(t,e,r,n,o){if(!this.hasFirst){this.hasFirst=!0;for(var i=0;i<this.subscriptions.length;i++)if(i!==r){var s=this.subscriptions[i];s.unsubscribe(),this.remove(s)}this.subscriptions=null}this.destination.next(e)},e}(u.OuterSubscriber);e.RaceSubscriber=l},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1);function o(t){var e=t.start,r=t.index,n=t.count,o=t.subscriber;r>=n?o.complete():(o.next(e),o.closed||(t.index=r+1,t.start=e+1,this.schedule(t)))}e.range=function(t,e,r){return void 0===t&&(t=0),new n.Observable((function(n){void 0===e&&(e=t,t=0);var i=0,s=t;if(r)return r.schedule(o,0,{index:i,count:e,start:t,subscriber:n});for(;;){if(i++>=e){n.complete();break}if(n.next(s++),n.closed)break}}))},e.dispatch=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1),o=r(28),i=r(49),s=r(6);function u(t){var e=t.index,r=t.period,n=t.subscriber;if(n.next(e),!n.closed){if(-1===r)return n.complete();t.index=e+1,this.schedule(t,r)}}e.timer=function(t,e,r){void 0===t&&(t=0);var c=-1;return i.isNumeric(e)?c=Number(e)<1?1:Number(e):s.isScheduler(e)&&(r=e),s.isScheduler(r)||(r=o.async),new n.Observable((function(e){var n=i.isNumeric(t)?t:+t-r.now();return r.schedule(u,n,{index:0,period:c,subscriber:e})}))}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(1),o=r(10),i=r(5);e.using=function(t,e){return new n.Observable((function(r){var n,s;try{n=t()}catch(t){return void r.error(t)}try{s=e(n)}catch(t){return void r.error(t)}var u=(s?o.from(s):i.EMPTY).subscribe(r);return function(){u.unsubscribe(),n&&n.unsubscribe()}}))}},function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var i=r(13),s=r(4),u=r(3),c=r(19),a=r(20),l=r(14);e.zip=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return"function"==typeof r&&t.pop(),i.fromArray(t,void 0).lift(new f(r))};var f=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new p(t,this.resultSelector))},t}();e.ZipOperator=f;var p=function(t){function e(e,r,n){void 0===n&&(n=Object.create(null));var o=t.call(this,e)||this;return o.iterators=[],o.active=0,o.resultSelector="function"==typeof r?r:null,o.values=n,o}return o(e,t),e.prototype._next=function(t){var e=this.iterators;s.isArray(t)?e.push(new d(t)):"function"==typeof t[l.iterator]?e.push(new h(t[l.iterator]())):e.push(new b(this.destination,this,t))},e.prototype._complete=function(){var t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(var r=0;r<e;r++){var n=t[r];if(n.stillUnsubscribed)this.destination.add(n.subscribe(n,r));else this.active--}}else this.destination.complete()},e.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},e.prototype.checkIterators=function(){for(var t=this.iterators,e=t.length,r=this.destination,n=0;n<e;n++){if("function"==typeof(s=t[n]).hasValue&&!s.hasValue())return}var o=!1,i=[];for(n=0;n<e;n++){var s,u=(s=t[n]).next();if(s.hasCompleted()&&(o=!0),u.done)return void r.complete();i.push(u.value)}this.resultSelector?this._tryresultSelector(i):r.next(i),o&&r.complete()},e.prototype._tryresultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(u.Subscriber);e.ZipSubscriber=p;var h=function(){function t(t){this.iterator=t,this.nextResult=t.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},t.prototype.hasCompleted=function(){var t=this.nextResult;return t&&t.done},t}(),d=function(){function t(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return t.prototype[l.iterator]=function(){return this},t.prototype.next=function(t){var e=this.index++,r=this.array;return e<this.length?{value:r[e],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),b=function(t){function e(e,r,n){var o=t.call(this,e)||this;return o.parent=r,o.observable=n,o.stillUnsubscribed=!0,o.buffer=[],o.isComplete=!1,o}return o(e,t),e.prototype[l.iterator]=function(){return this},e.prototype.next=function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(t,e,r,n,o){this.buffer.push(e),this.parent.checkIterators()},e.prototype.subscribe=function(t,e){return a.subscribeToResult(this,this.observable,this,e)},e}(c.OuterSubscriber)}])}));